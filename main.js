!function(){"use strict";function e(e,t){const s=e+1;let a="";return s<=t&&(a+="top-"),s>t**2-t&&(a+="bottom-"),Number.isInteger((s-1)/t)?a+="left":Number.isInteger(s/t)?a+="right":a=a.slice(0,-1),""!==a?a:"center"}class t{constructor(){this.boardSize=8,this.container=null,this.boardEl=null,this.cells=[],this.cellClickListeners=[],this.cellEnterListeners=[],this.cellLeaveListeners=[],this.newGameListeners=[],this.saveGameListeners=[],this.loadGameListeners=[]}bindToDOM(e){if(!(e instanceof HTMLElement))throw new Error("container is not HTMLElement");this.container=e}drawUi(t){this.checkBinding(),this.container.innerHTML='\n      <div class="controls">\n        <button data-id="action-restart" class="btn">New Game</button>\n        <button data-id="action-save" class="btn">Save Game</button>\n        <button data-id="action-load" class="btn">Load Game</button>\n      </div>\n      <div class="board-container">\n        <div data-id="board" class="board"></div>\n      </div>\n    ',this.newGameEl=this.container.querySelector("[data-id=action-restart]"),this.saveGameEl=this.container.querySelector("[data-id=action-save]"),this.loadGameEl=this.container.querySelector("[data-id=action-load]"),this.newGameEl.addEventListener("click",(e=>this.onNewGameClick(e))),this.saveGameEl.addEventListener("click",(e=>this.onSaveGameClick(e))),this.loadGameEl.addEventListener("click",(e=>this.onLoadGameClick(e))),this.boardEl=this.container.querySelector("[data-id=board]"),this.boardEl.classList.add(t);for(let t=0;t<this.boardSize**2;t+=1){const s=document.createElement("div");s.classList.add("cell","map-tile",`map-tile-${e(t,this.boardSize)}`),s.addEventListener("mouseenter",(e=>this.onCellEnter(e))),s.addEventListener("mouseleave",(e=>this.onCellLeave(e))),s.addEventListener("click",(e=>this.onCellClick(e))),this.boardEl.appendChild(s)}this.cells=Array.from(this.boardEl.children)}redrawPositions(e){for(const e of this.cells)e.innerHTML="";for(const s of e){const e=this.boardEl.children[s.position],a=document.createElement("div");a.classList.add("character",s.character.type);const i=document.createElement("div");i.classList.add("health-level");const r=document.createElement("div");r.classList.add("health-level-indicator","health-level-indicator-"+((t=s.character.health)<15?"critical":t<50?"normal":"high")),r.style.width=`${s.character.health}%`,i.appendChild(r),a.appendChild(i),e.appendChild(a)}var t}addCellEnterListener(e){this.cellEnterListeners.push(e)}addCellLeaveListener(e){this.cellLeaveListeners.push(e)}addCellClickListener(e){this.cellClickListeners.push(e)}addNewGameListener(e){this.newGameListeners.push(e)}addSaveGameListener(e){this.saveGameListeners.push(e)}addLoadGameListener(e){this.loadGameListeners.push(e)}onCellEnter(e){e.preventDefault();const t=this.cells.indexOf(e.currentTarget);this.cellEnterListeners.forEach((e=>e.call(null,t)))}onCellLeave(e){e.preventDefault();const t=this.cells.indexOf(e.currentTarget);this.cellLeaveListeners.forEach((e=>e.call(null,t)))}onCellClick(e){const t=this.cells.indexOf(e.currentTarget);this.cellClickListeners.forEach((e=>e.call(null,t)))}onNewGameClick(e){e.preventDefault(),this.newGameListeners.forEach((e=>e.call(null)))}onSaveGameClick(e){e.preventDefault(),this.saveGameListeners.forEach((e=>e.call(null)))}onLoadGameClick(e){e.preventDefault(),this.loadGameListeners.forEach((e=>e.call(null)))}static showError(e){alert(e)}static showMessage(e){alert(e)}selectCell(e,t="yellow"){this.deselectCell(e),this.cells[e].classList.add("selected",`selected-${t}`)}deselectCell(e){const t=this.cells[e];t.classList.remove(...Array.from(t.classList).filter((e=>e.startsWith("selected"))))}showCellTooltip(e,t){this.cells[t].title=e}hideCellTooltip(e){this.cells[e].title=""}showDamage(e,t){return new Promise((s=>{const a=this.cells[e],i=document.createElement("span");i.textContent=t,i.classList.add("damage"),a.appendChild(i),i.addEventListener("animationend",(()=>{a.removeChild(i),s()}))}))}setCursor(e){this.boardEl.style.cursor=e}checkBinding(){if(null===this.container)throw new Error("GamePlay not bind to DOM")}}var s="prairie";class a{constructor(e,t="generic"){if("Character"===new.target.name)throw new Error("You can't create Character class directly");this.level=e,this.attack=0,this.defence=0,this.health=50,this.type=t}}class i{constructor(e,t){if(!(e instanceof a))throw new Error("character must be instance of Character or its children");if("number"!=typeof t)throw new Error("position must be a number");this.character=e,this.position=t}}function r(e,t=8){const s=[...Array(t**2).keys()];let a;return a="opponent"===e?s.filter((e=>e%t==6||e%t==7)):s.filter((e=>e%t==0||e%t==1)),a}function*l(e,t){for(;;){const s=Math.floor(e.length*Math.random()),a=Math.floor(Math.random()*t)+1;yield new e[s](a)}}function n(e,t,s){const a=[],n=r("player",8),c=r("opponent",8);for(let r=0;r<s;r+=1){const s=l(e,t).next().value;let r,o;s.isGoodCharacter?(r=Math.floor(n.length*Math.random()),o=n[r],n.splice(r,1)):(r=Math.floor(c.length*Math.random()),o=c[r],c.splice(r,1)),a.push(new i(s,o))}return a}class c extends a{constructor(e){super(e,"bowman"),this.attack=25,this.defence=25,this.isGoodCharacter=!0}}class o extends a{constructor(e){super(e,"daemon"),this.attack=10,this.defence=40,this.isGoodCharacter=!1}}class h extends a{constructor(e){super(e,"magician"),this.attack=10,this.defence=40,this.isGoodCharacter=!0}}class d extends a{constructor(e){super(e,"swordsman"),this.attack=40,this.defence=10,this.isGoodCharacter=!0}}class m extends a{constructor(e){super(e,"undead"),this.attack=40,this.defence=10,this.isGoodCharacter=!1}}class u extends a{constructor(e){super(e,"vampire"),this.attack=25,this.defence=25,this.isGoodCharacter=!1}}class p{constructor(){this.playerTeam=[c,d,h],this.opponentTeam=[o,m,u]}}class C{constructor(e,t){this.playerTeam=e,this.opponentTeam=t}static from(e){return null}}const f=new t;f.bindToDOM(document.querySelector("#game-container"));const L=new class{constructor(e){this.storage=e}save(e){this.storage.setItem("state",JSON.stringify(e))}load(){try{return JSON.parse(this.storage.getItem("state"))}catch(e){throw new Error("Invalid state")}}}(localStorage),v=new class{constructor(e,t){this.gamePlay=e,this.stateService=t,this.playerTeam=n((new p).playerTeam,1,3),this.opponentTeam=n((new p).opponentTeam,1,3),this.gameState=new C(this.playerTeam,this.opponentTeam)}init(){this.gamePlay.drawUi(s),this.gamePlay.redrawPositions([...this.playerTeam,...this.opponentTeam]),this.enterOnCell(),this.leaveOnCell(),this.clickOnCell()}onCellClick(e){if(this.gameState.selectedCharacter&&this.gameState.selectedCharacter.position===e)this.gamePlay.deselectCell(e),this.gameState.selectedCharacter=null;else{const s=this.hasCharacter(e),a=this.getCharacter(e);s?a.character.isGoodCharacter?(this.gameState.selectedCharacter=a,this.gamePlay.cells.forEach((e=>{e.classList.remove(...Array.from(e.classList).filter((e=>e.startsWith("selected"))))})),this.gamePlay.selectCell(e)):t.showMessage("Ð­Ñ‚Ð¾ Ð¸Ð³Ñ€Ð¾Ðº Ð¸Ð· Ñ‡ÑƒÐ¶Ð¾Ð¹ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ !!!"):t.showMessage("Ð­Ñ‚Ð¾ Ð¿ÑƒÑÑ‚Ð°Ñ ÐºÐ»ÐµÑ‚ÐºÐ° !!!")}}onCellEnter(e){const t=this.hasCharacter(e),s=this.getCharacter(e);if(t){const t=`ðŸŽ–${s.character.level} ðŸ—¡${s.character.attack} ðŸ›¡${s.character.defence} ðŸ’“${s.character.health}`;this.gamePlay.showCellTooltip(t,e)}}onCellLeave(e){this.gamePlay.hideCellTooltip(e)}hasCharacter(e){return[...this.playerTeam,...this.opponentTeam].some((t=>t.position===e))}getCharacter(e){let t=this.playerTeam.find((t=>t.position===e));return t||(t=this.opponentTeam.find((t=>t.position===e))),t}enterOnCell(){this.gamePlay.addCellEnterListener(this.onCellEnter.bind(this))}leaveOnCell(){this.gamePlay.addCellLeaveListener(this.onCellLeave.bind(this))}clickOnCell(){this.gamePlay.addCellClickListener(this.onCellClick.bind(this))}}(f,L);v.init()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVcsS0FBV3VGLEVBQU83RyxVQUFVNEMsV0FBa0JpRSxFQUFPN0csVUFBVThDLFlBQW1CK0QsRUFBTzdHLFVBQVUrQyxhQUFvQjhELEVBQU83RyxVQUFVSSxTQUN6SmhELEtBQUtrSSxTQUFTdkQsZ0JBQWdCVCxFQUFTM0UsRUFDekMsQ0FDRixDQUVBMEMsV0FBQUEsQ0FBWTFDLEdBRVZTLEtBQUtrSSxTQUFTckQsZ0JBQWdCdEYsRUFDaEMsQ0FFQWlLLFlBQUFBLENBQWFqSyxHQUVYLE1BRHNCLElBQUlTLEtBQUs4SCxjQUFlOUgsS0FBSytILGNBQzlCOEIsTUFBTUosR0FBV0EsRUFBTy9HLFdBQWFuRCxHQUM1RCxDQUVBbUssWUFBQUEsQ0FBYW5LLEdBQ1gsSUFBSUcsRUFBU00sS0FBSzhILFdBQVdnQyxNQUFNTCxHQUFXQSxFQUFPL0csV0FBYW5ELElBSWxFLE9BSEtHLElBQ0hBLEVBQVNNLEtBQUsrSCxhQUFhK0IsTUFBTUwsR0FBV0EsRUFBTy9HLFdBQWFuRCxLQUUzREcsQ0FDVCxDQUVBeUosV0FBQUEsR0FDRW5KLEtBQUtrSSxTQUFTL0UscUJBQXFCbkQsS0FBS2dDLFlBQVkrSCxLQUFLL0osTUFDM0QsQ0FFQW9KLFdBQUFBLEdBQ0VwSixLQUFLa0ksU0FBUzVFLHFCQUFxQnRELEtBQUtpQyxZQUFZOEgsS0FBSy9KLE1BQzNELENBRUFxSixXQUFBQSxHQUNFckosS0FBS2tJLFNBQVMzRSxxQkFBcUJ2RCxLQUFLa0MsWUFBWTZILEtBQUsvSixNQUMzRCxHRmhGa0NrSSxFQUFVQyxHQUM5Q1ksRUFBU0UsTSIsInNvdXJjZXMiOlsid2VicGFjazovL2pzLXByby1kaXBsb21hLy4vc3JjL2pzL3V0aWxzLmpzIiwid2VicGFjazovL2pzLXByby1kaXBsb21hLy4vc3JjL2pzL0dhbWVQbGF5LmpzIiwid2VicGFjazovL2pzLXByby1kaXBsb21hLy4vc3JjL2pzL3RoZW1lcy5qcyIsIndlYnBhY2s6Ly9qcy1wcm8tZGlwbG9tYS8uL3NyYy9qcy9DaGFyYWN0ZXIuanMiLCJ3ZWJwYWNrOi8vanMtcHJvLWRpcGxvbWEvLi9zcmMvanMvUG9zaXRpb25lZENoYXJhY3Rlci5qcyIsIndlYnBhY2s6Ly9qcy1wcm8tZGlwbG9tYS8uL3NyYy9qcy9nZW5lcmF0b3JzLmpzIiwid2VicGFjazovL2pzLXByby1kaXBsb21hLy4vc3JjL2pzL2NoYXJhY3RlcnMvQm93bWFuLmpzIiwid2VicGFjazovL2pzLXByby1kaXBsb21hLy4vc3JjL2pzL2NoYXJhY3RlcnMvRGFlbW9uLmpzIiwid2VicGFjazovL2pzLXByby1kaXBsb21hLy4vc3JjL2pzL2NoYXJhY3RlcnMvTWFnaWNpYW4uanMiLCJ3ZWJwYWNrOi8vanMtcHJvLWRpcGxvbWEvLi9zcmMvanMvY2hhcmFjdGVycy9Td29yZHNtYW4uanMiLCJ3ZWJwYWNrOi8vanMtcHJvLWRpcGxvbWEvLi9zcmMvanMvY2hhcmFjdGVycy9VbmRlYWQuanMiLCJ3ZWJwYWNrOi8vanMtcHJvLWRpcGxvbWEvLi9zcmMvanMvY2hhcmFjdGVycy9WYW1waXJlLmpzIiwid2VicGFjazovL2pzLXByby1kaXBsb21hLy4vc3JjL2pzL1RlYW0uanMiLCJ3ZWJwYWNrOi8vanMtcHJvLWRpcGxvbWEvLi9zcmMvanMvR2FtZVN0YXRlLmpzIiwid2VicGFjazovL2pzLXByby1kaXBsb21hLy4vc3JjL2pzL2FwcC5qcyIsIndlYnBhY2s6Ly9qcy1wcm8tZGlwbG9tYS8uL3NyYy9qcy9HYW1lU3RhdGVTZXJ2aWNlLmpzIiwid2VicGFjazovL2pzLXByby1kaXBsb21hLy4vc3JjL2pzL0dhbWVDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHRvZG9cbiAqIEBwYXJhbSBpbmRleCAtINC40L3QtNC10LrRgSDQv9C+0LvRj1xuICogQHBhcmFtIGJvYXJkU2l6ZSAtINGA0LDQt9C80LXRgCDQutCy0LDQtNGA0LDRgtC90L7Qs9C+INC/0L7Qu9GPICjQsiDQtNC70LjQvdGDINC40LvQuCDRiNC40YDQuNC90YMpXG4gKiBAcmV0dXJucyDRgdGC0YDQvtC60LAgLSDRgtC40L8g0Y/Rh9C10LnQutC4INC90LAg0L/QvtC70LU6XG4gKlxuICogdG9wLWxlZnRcbiAqIHRvcC1yaWdodFxuICogdG9wXG4gKiBib3R0b20tbGVmdFxuICogYm90dG9tLXJpZ2h0XG4gKiBib3R0b21cbiAqIHJpZ2h0XG4gKiBsZWZ0XG4gKiBjZW50ZXJcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGNhbGNUaWxlVHlwZSgwLCA4KTsgLy8gJ3RvcC1sZWZ0J1xuICogY2FsY1RpbGVUeXBlKDEsIDgpOyAvLyAndG9wJ1xuICogY2FsY1RpbGVUeXBlKDYzLCA4KTsgLy8gJ2JvdHRvbS1yaWdodCdcbiAqIGNhbGNUaWxlVHlwZSg3LCA3KTsgLy8gJ2xlZnQnXG4gKiBgYGBcbiAqICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY1RpbGVUeXBlKGluZGV4LCBib2FyZFNpemUpIHtcbiAgLy8gVE9ETzog0LLQsNGIINC60L7QtCDQsdGD0LTQtdGCINGC0YPRglxuICBjb25zdCBib2FyZEZ1bGxTaXplID0gYm9hcmRTaXplICoqIDI7XG4gIGNvbnN0IG5vcm1JbmRleCA9IGluZGV4ICsgMTtcbiAgbGV0IHJlc3VsdCA9ICcnO1xuICAvLyDQtdGB0LvQuCDQvdC+0LzQtdGA0LAg0LLQtdGA0YXQvdC40LUsINGC0L4gdG9wXG4gIGlmIChub3JtSW5kZXggPD0gYm9hcmRTaXplKSB7XG4gICAgcmVzdWx0ICs9ICd0b3AtJztcbiAgfVxuICAvLyDQtdGB0LvQuCDQvdC+0LzQtdGA0LAg0L3QuNC20L3QuNC1LCDRgtC+IGJvdHRvbVxuICBpZiAobm9ybUluZGV4ID4gYm9hcmRGdWxsU2l6ZSAtIGJvYXJkU2l6ZSkge1xuICAgIHJlc3VsdCArPSAnYm90dG9tLSc7XG4gIH1cbiAgLy8g0LXRgdC70Lgg0L3QvtC80LXRgNCwINC70LXQstGL0LUg0LIg0YHRgtC+0LvQsdGG0LUsINGC0L4gbGVmdFxuICAvLyDQtdGB0LvQuCDQvdC+0LzQtdGA0LAg0L/RgNCw0LLRi9C1INCyINGB0YLQvtC70LHRhtC1LCDRgtC+IHJpZ2h0XG4gIC8vINCyINC/0YDQvtGC0LjQstC90L7QvCDRgdC70YPRh9Cw0LUg0YPQtNCw0LvRj9C10Lwg0LTQtdGE0LjRgSDQuNC3INC/0LXRgNC10LzQtdC90L3QvtC5XG4gIGlmIChOdW1iZXIuaXNJbnRlZ2VyKChub3JtSW5kZXggLSAxKSAvIGJvYXJkU2l6ZSkpIHtcbiAgICByZXN1bHQgKz0gJ2xlZnQnO1xuICB9IGVsc2UgaWYgKE51bWJlci5pc0ludGVnZXIobm9ybUluZGV4IC8gYm9hcmRTaXplKSkge1xuICAgIHJlc3VsdCArPSAncmlnaHQnO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCAtMSk7XG4gIH1cblxuICBpZiAocmVzdWx0ICE9PSAnJykge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICByZXR1cm4gJ2NlbnRlcic7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjSGVhbHRoTGV2ZWwoaGVhbHRoKSB7XG4gIGlmIChoZWFsdGggPCAxNSkge1xuICAgIHJldHVybiAnY3JpdGljYWwnO1xuICB9XG5cbiAgaWYgKGhlYWx0aCA8IDUwKSB7XG4gICAgcmV0dXJuICdub3JtYWwnO1xuICB9XG5cbiAgcmV0dXJuICdoaWdoJztcbn1cbiIsImltcG9ydCB7IGNhbGNIZWFsdGhMZXZlbCwgY2FsY1RpbGVUeXBlIH0gZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVQbGF5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5ib2FyZFNpemUgPSA4O1xuICAgIHRoaXMuY29udGFpbmVyID0gbnVsbDtcbiAgICB0aGlzLmJvYXJkRWwgPSBudWxsO1xuICAgIHRoaXMuY2VsbHMgPSBbXTtcbiAgICB0aGlzLmNlbGxDbGlja0xpc3RlbmVycyA9IFtdO1xuICAgIHRoaXMuY2VsbEVudGVyTGlzdGVuZXJzID0gW107XG4gICAgdGhpcy5jZWxsTGVhdmVMaXN0ZW5lcnMgPSBbXTtcbiAgICB0aGlzLm5ld0dhbWVMaXN0ZW5lcnMgPSBbXTtcbiAgICB0aGlzLnNhdmVHYW1lTGlzdGVuZXJzID0gW107XG4gICAgdGhpcy5sb2FkR2FtZUxpc3RlbmVycyA9IFtdO1xuICB9XG5cbiAgYmluZFRvRE9NKGNvbnRhaW5lcikge1xuICAgIGlmICghKGNvbnRhaW5lciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb250YWluZXIgaXMgbm90IEhUTUxFbGVtZW50Jyk7XG4gICAgfVxuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIGJvYXJkRWwgd2l0aCBzcGVjaWZpYyB0aGVtZVxuICAgKlxuICAgKiBAcGFyYW0gdGhlbWVcbiAgICovXG4gIGRyYXdVaSh0aGVtZSkge1xuICAgIHRoaXMuY2hlY2tCaW5kaW5nKCk7XG5cbiAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwiY29udHJvbHNcIj5cbiAgICAgICAgPGJ1dHRvbiBkYXRhLWlkPVwiYWN0aW9uLXJlc3RhcnRcIiBjbGFzcz1cImJ0blwiPk5ldyBHYW1lPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gZGF0YS1pZD1cImFjdGlvbi1zYXZlXCIgY2xhc3M9XCJidG5cIj5TYXZlIEdhbWU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBkYXRhLWlkPVwiYWN0aW9uLWxvYWRcIiBjbGFzcz1cImJ0blwiPkxvYWQgR2FtZTwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiYm9hcmQtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgZGF0YS1pZD1cImJvYXJkXCIgY2xhc3M9XCJib2FyZFwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcblxuICAgIHRoaXMubmV3R2FtZUVsID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignW2RhdGEtaWQ9YWN0aW9uLXJlc3RhcnRdJyk7XG4gICAgdGhpcy5zYXZlR2FtZUVsID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignW2RhdGEtaWQ9YWN0aW9uLXNhdmVdJyk7XG4gICAgdGhpcy5sb2FkR2FtZUVsID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignW2RhdGEtaWQ9YWN0aW9uLWxvYWRdJyk7XG5cbiAgICB0aGlzLm5ld0dhbWVFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4gdGhpcy5vbk5ld0dhbWVDbGljayhldmVudCkpO1xuICAgIHRoaXMuc2F2ZUdhbWVFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4gdGhpcy5vblNhdmVHYW1lQ2xpY2soZXZlbnQpKTtcbiAgICB0aGlzLmxvYWRHYW1lRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHRoaXMub25Mb2FkR2FtZUNsaWNrKGV2ZW50KSk7XG5cbiAgICB0aGlzLmJvYXJkRWwgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pZD1ib2FyZF0nKTtcblxuICAgIHRoaXMuYm9hcmRFbC5jbGFzc0xpc3QuYWRkKHRoZW1lKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYm9hcmRTaXplICoqIDI7IGkgKz0gMSkge1xuICAgICAgY29uc3QgY2VsbEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjZWxsRWwuY2xhc3NMaXN0LmFkZCgnY2VsbCcsICdtYXAtdGlsZScsIGBtYXAtdGlsZS0ke2NhbGNUaWxlVHlwZShpLCB0aGlzLmJvYXJkU2l6ZSl9YCk7XG4gICAgICBjZWxsRWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIChldmVudCkgPT4gdGhpcy5vbkNlbGxFbnRlcihldmVudCkpO1xuICAgICAgY2VsbEVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoZXZlbnQpID0+IHRoaXMub25DZWxsTGVhdmUoZXZlbnQpKTtcbiAgICAgIGNlbGxFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4gdGhpcy5vbkNlbGxDbGljayhldmVudCkpO1xuICAgICAgdGhpcy5ib2FyZEVsLmFwcGVuZENoaWxkKGNlbGxFbCk7XG4gICAgfVxuXG4gICAgdGhpcy5jZWxscyA9IEFycmF5LmZyb20odGhpcy5ib2FyZEVsLmNoaWxkcmVuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyBwb3NpdGlvbnMgKHdpdGggY2hhcnMpIG9uIGJvYXJkRWxcbiAgICpcbiAgICogQHBhcmFtIHBvc2l0aW9ucyBhcnJheSBvZiBQb3NpdGlvbmVkQ2hhcmFjdGVyIG9iamVjdHNcbiAgICovXG4gIHJlZHJhd1Bvc2l0aW9ucyhwb3NpdGlvbnMpIHtcbiAgICBmb3IgKGNvbnN0IGNlbGwgb2YgdGhpcy5jZWxscykge1xuICAgICAgY2VsbC5pbm5lckhUTUwgPSAnJztcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHBvc2l0aW9uIG9mIHBvc2l0aW9ucykge1xuICAgICAgY29uc3QgY2VsbEVsID0gdGhpcy5ib2FyZEVsLmNoaWxkcmVuW3Bvc2l0aW9uLnBvc2l0aW9uXTtcbiAgICAgIGNvbnN0IGNoYXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY2hhckVsLmNsYXNzTGlzdC5hZGQoJ2NoYXJhY3RlcicsIHBvc2l0aW9uLmNoYXJhY3Rlci50eXBlKTtcblxuICAgICAgY29uc3QgaGVhbHRoRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGhlYWx0aEVsLmNsYXNzTGlzdC5hZGQoJ2hlYWx0aC1sZXZlbCcpO1xuXG4gICAgICBjb25zdCBoZWFsdGhJbmRpY2F0b3JFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaGVhbHRoSW5kaWNhdG9yRWwuY2xhc3NMaXN0LmFkZCgnaGVhbHRoLWxldmVsLWluZGljYXRvcicsIGBoZWFsdGgtbGV2ZWwtaW5kaWNhdG9yLSR7Y2FsY0hlYWx0aExldmVsKHBvc2l0aW9uLmNoYXJhY3Rlci5oZWFsdGgpfWApO1xuICAgICAgaGVhbHRoSW5kaWNhdG9yRWwuc3R5bGUud2lkdGggPSBgJHtwb3NpdGlvbi5jaGFyYWN0ZXIuaGVhbHRofSVgO1xuICAgICAgaGVhbHRoRWwuYXBwZW5kQ2hpbGQoaGVhbHRoSW5kaWNhdG9yRWwpO1xuXG4gICAgICBjaGFyRWwuYXBwZW5kQ2hpbGQoaGVhbHRoRWwpO1xuICAgICAgY2VsbEVsLmFwcGVuZENoaWxkKGNoYXJFbCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBsaXN0ZW5lciB0byBtb3VzZSBlbnRlciBmb3IgY2VsbFxuICAgKlxuICAgKiBAcGFyYW0gY2FsbGJhY2tcbiAgICovXG4gIGFkZENlbGxFbnRlckxpc3RlbmVyKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5jZWxsRW50ZXJMaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGxpc3RlbmVyIHRvIG1vdXNlIGxlYXZlIGZvciBjZWxsXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsYmFja1xuICAgKi9cbiAgYWRkQ2VsbExlYXZlTGlzdGVuZXIoY2FsbGJhY2spIHtcbiAgICB0aGlzLmNlbGxMZWF2ZUxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgbGlzdGVuZXIgdG8gbW91c2UgY2xpY2sgZm9yIGNlbGxcbiAgICpcbiAgICogQHBhcmFtIGNhbGxiYWNrXG4gICAqL1xuICBhZGRDZWxsQ2xpY2tMaXN0ZW5lcihjYWxsYmFjaykge1xuICAgIHRoaXMuY2VsbENsaWNrTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBsaXN0ZW5lciB0byBcIk5ldyBHYW1lXCIgYnV0dG9uIGNsaWNrXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsYmFja1xuICAgKi9cbiAgYWRkTmV3R2FtZUxpc3RlbmVyKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5uZXdHYW1lTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBsaXN0ZW5lciB0byBcIlNhdmUgR2FtZVwiIGJ1dHRvbiBjbGlja1xuICAgKlxuICAgKiBAcGFyYW0gY2FsbGJhY2tcbiAgICovXG4gIGFkZFNhdmVHYW1lTGlzdGVuZXIoY2FsbGJhY2spIHtcbiAgICB0aGlzLnNhdmVHYW1lTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBsaXN0ZW5lciB0byBcIkxvYWQgR2FtZVwiIGJ1dHRvbiBjbGlja1xuICAgKlxuICAgKiBAcGFyYW0gY2FsbGJhY2tcbiAgICovXG4gIGFkZExvYWRHYW1lTGlzdGVuZXIoY2FsbGJhY2spIHtcbiAgICB0aGlzLmxvYWRHYW1lTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICB9XG5cbiAgb25DZWxsRW50ZXIoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jZWxscy5pbmRleE9mKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgIHRoaXMuY2VsbEVudGVyTGlzdGVuZXJzLmZvckVhY2goKG8pID0+IG8uY2FsbChudWxsLCBpbmRleCkpO1xuICB9XG5cbiAgb25DZWxsTGVhdmUoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jZWxscy5pbmRleE9mKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgIHRoaXMuY2VsbExlYXZlTGlzdGVuZXJzLmZvckVhY2goKG8pID0+IG8uY2FsbChudWxsLCBpbmRleCkpO1xuICB9XG5cbiAgb25DZWxsQ2xpY2soZXZlbnQpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuY2VsbHMuaW5kZXhPZihldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICB0aGlzLmNlbGxDbGlja0xpc3RlbmVycy5mb3JFYWNoKChvKSA9PiBvLmNhbGwobnVsbCwgaW5kZXgpKTtcbiAgfVxuXG4gIG9uTmV3R2FtZUNsaWNrKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLm5ld0dhbWVMaXN0ZW5lcnMuZm9yRWFjaCgobykgPT4gby5jYWxsKG51bGwpKTtcbiAgfVxuXG4gIG9uU2F2ZUdhbWVDbGljayhldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5zYXZlR2FtZUxpc3RlbmVycy5mb3JFYWNoKChvKSA9PiBvLmNhbGwobnVsbCkpO1xuICB9XG5cbiAgb25Mb2FkR2FtZUNsaWNrKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmxvYWRHYW1lTGlzdGVuZXJzLmZvckVhY2goKG8pID0+IG8uY2FsbChudWxsKSk7XG4gIH1cblxuICBzdGF0aWMgc2hvd0Vycm9yKG1lc3NhZ2UpIHtcbiAgICBhbGVydChtZXNzYWdlKTtcbiAgfVxuXG4gIHN0YXRpYyBzaG93TWVzc2FnZShtZXNzYWdlKSB7XG4gICAgYWxlcnQobWVzc2FnZSk7XG4gIH1cblxuICBzZWxlY3RDZWxsKGluZGV4LCBjb2xvciA9ICd5ZWxsb3cnKSB7XG4gICAgdGhpcy5kZXNlbGVjdENlbGwoaW5kZXgpO1xuICAgIHRoaXMuY2VsbHNbaW5kZXhdLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJywgYHNlbGVjdGVkLSR7Y29sb3J9YCk7XG4gIH1cblxuICBkZXNlbGVjdENlbGwoaW5kZXgpIHtcbiAgICBjb25zdCBjZWxsID0gdGhpcy5jZWxsc1tpbmRleF07XG4gICAgY2VsbC5jbGFzc0xpc3QucmVtb3ZlKC4uLkFycmF5LmZyb20oY2VsbC5jbGFzc0xpc3QpXG4gICAgICAuZmlsdGVyKChvKSA9PiBvLnN0YXJ0c1dpdGgoJ3NlbGVjdGVkJykpKTtcbiAgfVxuXG4gIHNob3dDZWxsVG9vbHRpcChtZXNzYWdlLCBpbmRleCkge1xuICAgIHRoaXMuY2VsbHNbaW5kZXhdLnRpdGxlID0gbWVzc2FnZTtcbiAgfVxuXG4gIGhpZGVDZWxsVG9vbHRpcChpbmRleCkge1xuICAgIHRoaXMuY2VsbHNbaW5kZXhdLnRpdGxlID0gJyc7XG4gIH1cblxuICBzaG93RGFtYWdlKGluZGV4LCBkYW1hZ2UpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGNvbnN0IGNlbGwgPSB0aGlzLmNlbGxzW2luZGV4XTtcbiAgICAgIGNvbnN0IGRhbWFnZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgZGFtYWdlRWwudGV4dENvbnRlbnQgPSBkYW1hZ2U7XG4gICAgICBkYW1hZ2VFbC5jbGFzc0xpc3QuYWRkKCdkYW1hZ2UnKTtcbiAgICAgIGNlbGwuYXBwZW5kQ2hpbGQoZGFtYWdlRWwpO1xuXG4gICAgICBkYW1hZ2VFbC5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCAoKSA9PiB7XG4gICAgICAgIGNlbGwucmVtb3ZlQ2hpbGQoZGFtYWdlRWwpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldEN1cnNvcihjdXJzb3IpIHtcbiAgICB0aGlzLmJvYXJkRWwuc3R5bGUuY3Vyc29yID0gY3Vyc29yO1xuICB9XG5cbiAgY2hlY2tCaW5kaW5nKCkge1xuICAgIGlmICh0aGlzLmNvbnRhaW5lciA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdHYW1lUGxheSBub3QgYmluZCB0byBET00nKTtcbiAgICB9XG4gIH1cbn1cbiIsImNvbnN0IHRoZW1lcyA9IHtcbiAgMTogJ3ByYWlyaWUnLFxuICAyOiAnZGVzZXJ0JyxcbiAgMzogJ2FyY3RpYycsXG4gIDQ6ICdtb3VudGFpbicsXG59O1xuXG5leHBvcnQgZGVmYXVsdCB0aGVtZXM7XG4iLCIvKipcbiAqINCR0LDQt9C+0LLRi9C5INC60LvQsNGB0YEsINC+0YIg0LrQvtGC0L7RgNC+0LPQviDQvdCw0YHQu9C10LTRg9GO0YLRgdGPINC60LvQsNGB0YHRiyDQv9C10YDRgdC+0L3QsNC20LXQuVxuICogQHByb3BlcnR5IGxldmVsIC0g0YPRgNC+0LLQtdC90Ywg0L/QtdGA0YHQvtC90LDQttCwLCDQvtGCIDEg0LTQviA0XG4gKiBAcHJvcGVydHkgYXR0YWNrIC0g0L/QvtC60LDQt9Cw0YLQtdC70Ywg0LDRgtCw0LrQuFxuICogQHByb3BlcnR5IGRlZmVuY2UgLSDQv9C+0LrQsNC30LDRgtC10LvRjCDQt9Cw0YnQuNGC0YtcbiAqIEBwcm9wZXJ0eSBoZWFsdGggLSDQt9C00L7RgNC+0LLRjNC1INC/0LXRgNGB0L7QvdCw0LbQsFxuICogQHByb3BlcnR5IHR5cGUgLSDRgdGC0YDQvtC60LAg0YEg0L7QtNC90LjQvCDQuNC3INC00L7Qv9GD0YHRgtC40LzRi9GFINC30L3QsNGH0LXQvdC40Lk6XG4gKiBzd29yZHNtYW5cbiAqIGJvd21hblxuICogbWFnaWNpYW5cbiAqIGRhZW1vblxuICogdW5kZWFkXG4gKiB2YW1waXJlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoYXJhY3RlciB7XG4gIGNvbnN0cnVjdG9yKGxldmVsLCB0eXBlID0gJ2dlbmVyaWMnKSB7XG4gICAgaWYgKG5ldy50YXJnZXQubmFtZSA9PT0gJ0NoYXJhY3RlcicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBjYW4ndCBjcmVhdGUgQ2hhcmFjdGVyIGNsYXNzIGRpcmVjdGx5XCIpO1xuICAgIH1cbiAgICB0aGlzLmxldmVsID0gbGV2ZWw7XG4gICAgdGhpcy5hdHRhY2sgPSAwO1xuICAgIHRoaXMuZGVmZW5jZSA9IDA7XG4gICAgdGhpcy5oZWFsdGggPSA1MDtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIC8vIFRPRE86INCy0YvQsdGA0L7RgdC40YLQtSDQuNGB0LrQu9GO0YfQtdC90LjQtSwg0LXRgdC70Lgg0LrRgtC+LdGC0L4g0LjRgdC/0L7Qu9GM0LfRg9C10YIgXCJuZXcgQ2hhcmFjdGVyKClcIiAtIERPTkVcbiAgfVxufVxuIiwiaW1wb3J0IENoYXJhY3RlciBmcm9tICcuL0NoYXJhY3Rlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvc2l0aW9uZWRDaGFyYWN0ZXIge1xuICBjb25zdHJ1Y3RvcihjaGFyYWN0ZXIsIHBvc2l0aW9uKSB7XG4gICAgaWYgKCEoY2hhcmFjdGVyIGluc3RhbmNlb2YgQ2hhcmFjdGVyKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjaGFyYWN0ZXIgbXVzdCBiZSBpbnN0YW5jZSBvZiBDaGFyYWN0ZXIgb3IgaXRzIGNoaWxkcmVuJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBwb3NpdGlvbiAhPT0gJ251bWJlcicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncG9zaXRpb24gbXVzdCBiZSBhIG51bWJlcicpO1xuICAgIH1cblxuICAgIHRoaXMuY2hhcmFjdGVyID0gY2hhcmFjdGVyO1xuICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgfVxufVxuIiwiaW1wb3J0IFBvc2l0aW9uZWRDaGFyYWN0ZXIgZnJvbSAnLi9Qb3NpdGlvbmVkQ2hhcmFjdGVyJztcblxuLyoqXG4gKiDQpNGD0L3QutGG0LjRjyDQstC+0LfQstGA0LDRidCw0LXRgiDRgdC/0LjRgdC+0Log0LLRgdC10YUg0LLQvtC30LzQvtC20L3Ri9GFINGC0L7Rh9C10Log0L3QsCDQv9C+0LvQtSDQtNC70Y8g0YDQsNGB0L/QvtC70L7QttC10L3QuNGPINCz0LXRgNC+0LXQsiDQvtC/0YDQtdC00LXQu9C10L3QvdC+0LPQviDRgtC40L/QsFxuICogQHJldHVybnMg0LzQsNGB0YHQuNCyINCy0YHQtdGFINCy0L7Qt9C80L7QttC90YvRhSDQutC+0L7RgNC00LjQvdCw0YIg0YHQvtCz0LvQsNGB0L3QviDRg9GB0LvQvtCy0LjRj9C8INC30LDQtNCw0YfQuFxuICogKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxvd2VkQ29vcmRpbmF0ZXModHlwZVRlYW0sIGJvYXJkU2l6ZSA9IDgpIHtcbiAgY29uc3QgYWxsQ29vcmRzID0gWy4uLkFycmF5KGJvYXJkU2l6ZSAqKiAyKS5rZXlzKCldO1xuICBsZXQgYWxsb3dlZENvb3JkcztcblxuICBpZiAodHlwZVRlYW0gPT09ICdvcHBvbmVudCcpIHtcbiAgICBhbGxvd2VkQ29vcmRzID0gYWxsQ29vcmRzLmZpbHRlcigocG9zKSA9PiAocG9zICUgYm9hcmRTaXplID09PSA2IHx8IHBvcyAlIGJvYXJkU2l6ZSA9PT0gNykpO1xuICB9IGVsc2Uge1xuICAgIGFsbG93ZWRDb29yZHMgPSBhbGxDb29yZHMuZmlsdGVyKChwb3MpID0+IChwb3MgJSBib2FyZFNpemUgPT09IDAgfHwgcG9zICUgYm9hcmRTaXplID09PSAxKSk7XG4gIH1cbiAgcmV0dXJuIGFsbG93ZWRDb29yZHM7XG59XG5cbi8qKlxuICog0KTQvtGA0LzQuNGA0YPQtdGCINGN0LrQt9C10LzQv9C70Y/RgCDQv9C10YDRgdC+0L3QsNC20LAg0LjQtyDQvNCw0YHRgdC40LLQsCBhbGxvd2VkVHlwZXMg0YHQvlxuICog0YHQu9GD0YfQsNC50L3Ri9C8INGD0YDQvtCy0L3QtdC8INC+0YIgMSDQtNC+IG1heExldmVsXG4gKlxuICogQHBhcmFtIGFsbG93ZWRUeXBlcyDQvNCw0YHRgdC40LIg0LrQu9Cw0YHRgdC+0LJcbiAqIEBwYXJhbSBtYXhMZXZlbCDQvNCw0LrRgdC40LzQsNC70YzQvdGL0Lkg0LLQvtC30LzQvtC20L3Ri9C5INGD0YDQvtCy0LXQvdGMINC/0LXRgNGB0L7QvdCw0LbQsFxuICogQHJldHVybnMg0LPQtdC90LXRgNCw0YLQvtGALCDQutC+0YLQvtGA0YvQuSDQv9GA0Lgg0LrQsNC20LTQvtC8INCy0YvQt9C+0LLQtVxuICog0LLQvtC30LLRgNCw0YnQsNC10YIg0L3QvtCy0YvQuSDRjdC60LfQtdC80L/Qu9GP0YAg0LrQu9Cw0YHRgdCwINC/0LXRgNGB0L7QvdCw0LbQsFxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uKiBjaGFyYWN0ZXJHZW5lcmF0b3IoYWxsb3dlZFR5cGVzLCBtYXhMZXZlbCkge1xuICAvLyBUT0RPOiB3cml0ZSBsb2dpYyBoZXJlXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgY29uc3QgclR5cGUgPSBNYXRoLmZsb29yKGFsbG93ZWRUeXBlcy5sZW5ndGggKiBNYXRoLnJhbmRvbSgpKTtcbiAgICBjb25zdCByTGV2ZWwgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtYXhMZXZlbCkgKyAxO1xuICAgIHlpZWxkIG5ldyBhbGxvd2VkVHlwZXNbclR5cGVdKHJMZXZlbCk7XG4gIH1cbn1cblxuLyoqXG4gKiDQpNC+0YDQvNC40YDRg9C10YIg0LzQsNGB0YHQuNCyINC/0LXRgNGB0L7QvdCw0LbQtdC5INC90LAg0L7RgdC90L7QstC1IGNoYXJhY3RlckdlbmVyYXRvclxuICogQHBhcmFtIGFsbG93ZWRUeXBlcyDQvNCw0YHRgdC40LIg0LrQu9Cw0YHRgdC+0LJcbiAqIEBwYXJhbSBtYXhMZXZlbCDQvNCw0LrRgdC40LzQsNC70YzQvdGL0Lkg0LLQvtC30LzQvtC20L3Ri9C5INGD0YDQvtCy0LXQvdGMINC/0LXRgNGB0L7QvdCw0LbQsFxuICogQHBhcmFtIGNoYXJhY3RlckNvdW50INC60L7Qu9C40YfQtdGB0YLQstC+INC/0LXRgNGB0L7QvdCw0LbQtdC5LCDQutC+0YLQvtGA0L7QtSDQvdGD0LbQvdC+INGB0YTQvtGA0LzQuNGA0L7QstCw0YLRjFxuICogQHJldHVybnMg0Y3QutC30LXQvNC/0LvRj9GAIFRlYW0sINGF0YDQsNC90Y/RidC40Lkg0Y3QutC30LXQvNC/0LvRj9GA0Ysg0L/QtdGA0YHQvtC90LDQttC10LkuXG4gKiDQmtC+0LvQuNGH0LXRgdGC0LLQviDQv9C10YDRgdC+0L3QsNC20LXQuSDQsiDQutC+0LzQsNC90LTQtSAtIGNoYXJhY3RlckNvdW50XG4gKiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVGVhbShhbGxvd2VkVHlwZXMsIG1heExldmVsLCBjaGFyYWN0ZXJDb3VudCkge1xuICAvLyBUT0RPOiB3cml0ZSBsb2dpYyBoZXJlXG4gIGNvbnN0IGJvYXJkU2l6ZSA9IDg7XG4gIGNvbnN0IG5ld1RlYW0gPSBbXTtcbiAgY29uc3QgcGxheWVyQ29vcmRzID0gZ2V0QWxsb3dlZENvb3JkaW5hdGVzKCdwbGF5ZXInLCBib2FyZFNpemUpO1xuICBjb25zdCBvcHBvbmVudENvb3JkcyA9IGdldEFsbG93ZWRDb29yZGluYXRlcygnb3Bwb25lbnQnLCBib2FyZFNpemUpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcmFjdGVyQ291bnQ7IGkgKz0gMSkge1xuICAgIGNvbnN0IG5ld0NoYXJhY3RlciA9IGNoYXJhY3RlckdlbmVyYXRvcihhbGxvd2VkVHlwZXMsIG1heExldmVsKS5uZXh0KCkudmFsdWU7XG4gICAgbGV0IGluZGV4O1xuICAgIGxldCBwb3NpdGlvbjtcbiAgICBpZiAobmV3Q2hhcmFjdGVyLmlzR29vZENoYXJhY3Rlcikge1xuICAgICAgaW5kZXggPSBNYXRoLmZsb29yKHBsYXllckNvb3Jkcy5sZW5ndGggKiBNYXRoLnJhbmRvbSgpKTtcbiAgICAgIHBvc2l0aW9uID0gcGxheWVyQ29vcmRzW2luZGV4XTtcbiAgICAgIHBsYXllckNvb3Jkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbmRleCA9IE1hdGguZmxvb3Iob3Bwb25lbnRDb29yZHMubGVuZ3RoICogTWF0aC5yYW5kb20oKSk7XG4gICAgICBwb3NpdGlvbiA9IG9wcG9uZW50Q29vcmRzW2luZGV4XTtcbiAgICAgIG9wcG9uZW50Q29vcmRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIG5ld1RlYW0ucHVzaChuZXcgUG9zaXRpb25lZENoYXJhY3RlcihuZXdDaGFyYWN0ZXIsIHBvc2l0aW9uKSk7XG4gIH1cbiAgcmV0dXJuIG5ld1RlYW07XG59XG4iLCJpbXBvcnQgQ2hhcmFjdGVyIGZyb20gJy4uL0NoYXJhY3Rlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJvd21hbiBleHRlbmRzIENoYXJhY3RlciB7XG4gIGNvbnN0cnVjdG9yKGxldmVsKSB7XG4gICAgc3VwZXIobGV2ZWwsICdib3dtYW4nKTtcbiAgICB0aGlzLmF0dGFjayA9IDI1O1xuICAgIHRoaXMuZGVmZW5jZSA9IDI1O1xuICAgIHRoaXMuaXNHb29kQ2hhcmFjdGVyID0gdHJ1ZTtcbiAgfVxufVxuIiwiaW1wb3J0IENoYXJhY3RlciBmcm9tICcuLi9DaGFyYWN0ZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEYWVtb24gZXh0ZW5kcyBDaGFyYWN0ZXIge1xuICBjb25zdHJ1Y3RvcihsZXZlbCkge1xuICAgIHN1cGVyKGxldmVsLCAnZGFlbW9uJyk7XG4gICAgdGhpcy5hdHRhY2sgPSAxMDtcbiAgICB0aGlzLmRlZmVuY2UgPSA0MDtcbiAgICB0aGlzLmlzR29vZENoYXJhY3RlciA9IGZhbHNlO1xuICB9XG59XG4iLCJpbXBvcnQgQ2hhcmFjdGVyIGZyb20gJy4uL0NoYXJhY3Rlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hZ2ljaWFuIGV4dGVuZHMgQ2hhcmFjdGVyIHtcbiAgY29uc3RydWN0b3IobGV2ZWwpIHtcbiAgICBzdXBlcihsZXZlbCwgJ21hZ2ljaWFuJyk7XG4gICAgdGhpcy5hdHRhY2sgPSAxMDtcbiAgICB0aGlzLmRlZmVuY2UgPSA0MDtcbiAgICB0aGlzLmlzR29vZENoYXJhY3RlciA9IHRydWU7XG4gIH1cbn1cbiIsImltcG9ydCBDaGFyYWN0ZXIgZnJvbSAnLi4vQ2hhcmFjdGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3dvcmRzbWFuIGV4dGVuZHMgQ2hhcmFjdGVyIHtcbiAgY29uc3RydWN0b3IobGV2ZWwpIHtcbiAgICBzdXBlcihsZXZlbCwgJ3N3b3Jkc21hbicpO1xuICAgIHRoaXMuYXR0YWNrID0gNDA7XG4gICAgdGhpcy5kZWZlbmNlID0gMTA7XG4gICAgdGhpcy5pc0dvb2RDaGFyYWN0ZXIgPSB0cnVlO1xuICB9XG59XG4iLCJpbXBvcnQgQ2hhcmFjdGVyIGZyb20gJy4uL0NoYXJhY3Rlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVuZGVhZCBleHRlbmRzIENoYXJhY3RlciB7XG4gIGNvbnN0cnVjdG9yKGxldmVsKSB7XG4gICAgc3VwZXIobGV2ZWwsICd1bmRlYWQnKTtcbiAgICB0aGlzLmF0dGFjayA9IDQwO1xuICAgIHRoaXMuZGVmZW5jZSA9IDEwO1xuICAgIHRoaXMuaXNHb29kQ2hhcmFjdGVyID0gZmFsc2U7XG4gIH1cbn1cbiIsImltcG9ydCBDaGFyYWN0ZXIgZnJvbSAnLi4vQ2hhcmFjdGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmFtcGlyZSBleHRlbmRzIENoYXJhY3RlciB7XG4gIGNvbnN0cnVjdG9yKGxldmVsKSB7XG4gICAgc3VwZXIobGV2ZWwsICd2YW1waXJlJyk7XG4gICAgdGhpcy5hdHRhY2sgPSAyNTtcbiAgICB0aGlzLmRlZmVuY2UgPSAyNTtcbiAgICB0aGlzLmlzR29vZENoYXJhY3RlciA9IGZhbHNlO1xuICB9XG59XG4iLCIvKipcbiAqINCa0LvQsNGB0YEsINC/0YDQtdC00YHRgtCw0LLQu9GP0Y7RidC40Lkg0L/QtdGA0YHQvtC90LDQttC10Lkg0LrQvtC80LDQvdC00YtcbiAqXG4gKiBAdG9kbyDQodCw0LzQvtGB0YLQvtGP0YLQtdC70YzQvdC+INC/0YDQvtC00YPQvNCw0LnRgtC1INGF0YDQsNC90LXQvdC40LUg0L/QtdGA0YHQvtC90LDQttC10Lkg0LIg0LrQu9Cw0YHRgdC1XG4gKiDQndCw0L/RgNC40LzQtdGAXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGNvbnN0IGNoYXJhY3RlcnMgPSBbbmV3IFN3b3Jkc21hbigyKSwgbmV3IEJvd21hbigxKV1cbiAqIGNvbnN0IHRlYW0gPSBuZXcgVGVhbShjaGFyYWN0ZXJzKTtcbiAqXG4gKiB0ZWFtLmNoYXJhY3RlcnMgLy8gW3N3b3Jkc21hbiwgYm93bWFuXVxuICogYGBgXG4gKiAqL1xuXG5pbXBvcnQgQm93bWFuIGZyb20gJy4vY2hhcmFjdGVycy9Cb3dtYW4nO1xuaW1wb3J0IERhZW1vbiBmcm9tICcuL2NoYXJhY3RlcnMvRGFlbW9uJztcbmltcG9ydCBNYWdpY2lhbiBmcm9tICcuL2NoYXJhY3RlcnMvTWFnaWNpYW4nO1xuaW1wb3J0IFN3b3Jkc21hbiBmcm9tICcuL2NoYXJhY3RlcnMvU3dvcmRzbWFuJztcbmltcG9ydCBVbmRlYWQgZnJvbSAnLi9jaGFyYWN0ZXJzL1VuZGVhZCc7XG5pbXBvcnQgVmFtcGlyZSBmcm9tICcuL2NoYXJhY3RlcnMvVmFtcGlyZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRlYW0ge1xuICAvLyBUT0RPOiB3cml0ZSB5b3VyIGxvZ2ljIGhlcmVcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5wbGF5ZXJUZWFtID0gW0Jvd21hbiwgU3dvcmRzbWFuLCBNYWdpY2lhbl07XG4gICAgdGhpcy5vcHBvbmVudFRlYW0gPSBbRGFlbW9uLCBVbmRlYWQsIFZhbXBpcmVdO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lU3RhdGUge1xuICBjb25zdHJ1Y3RvcihwbGF5ZXJUZWFtLCBvcHBvbmVudFRlYW0pIHtcbiAgICB0aGlzLnBsYXllclRlYW0gPSBwbGF5ZXJUZWFtO1xuICAgIHRoaXMub3Bwb25lbnRUZWFtID0gb3Bwb25lbnRUZWFtO1xuICB9XG5cbiAgc3RhdGljIGZyb20ob2JqZWN0KSB7XG4gICAgLy8gVE9ETzogY3JlYXRlIG9iamVjdFxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iLCIvKipcbiAqIEVudHJ5IHBvaW50IG9mIGFwcDogZG9uJ3QgY2hhbmdlIHRoaXNcbiAqL1xuaW1wb3J0IEdhbWVQbGF5IGZyb20gJy4vR2FtZVBsYXknO1xuaW1wb3J0IEdhbWVDb250cm9sbGVyIGZyb20gJy4vR2FtZUNvbnRyb2xsZXInO1xuaW1wb3J0IEdhbWVTdGF0ZVNlcnZpY2UgZnJvbSAnLi9HYW1lU3RhdGVTZXJ2aWNlJztcblxuY29uc3QgZ2FtZVBsYXkgPSBuZXcgR2FtZVBsYXkoKTtcbmdhbWVQbGF5LmJpbmRUb0RPTShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2FtZS1jb250YWluZXInKSk7XG5cbmNvbnN0IHN0YXRlU2VydmljZSA9IG5ldyBHYW1lU3RhdGVTZXJ2aWNlKGxvY2FsU3RvcmFnZSk7XG5cbmNvbnN0IGdhbWVDdHJsID0gbmV3IEdhbWVDb250cm9sbGVyKGdhbWVQbGF5LCBzdGF0ZVNlcnZpY2UpO1xuZ2FtZUN0cmwuaW5pdCgpO1xuXG4vLyBkb24ndCB3cml0ZSB5b3VyIGNvZGUgaGVyZVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVN0YXRlU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKHN0b3JhZ2UpIHtcbiAgICB0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xuICB9XG5cbiAgc2F2ZShzdGF0ZSkge1xuICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKCdzdGF0ZScsIEpTT04uc3RyaW5naWZ5KHN0YXRlKSk7XG4gIH1cblxuICBsb2FkKCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZSh0aGlzLnN0b3JhZ2UuZ2V0SXRlbSgnc3RhdGUnKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0YXRlJyk7XG4gICAgfVxuICB9XG59XG4iLCIvLyBAdHMtbm9jaGVja1xuXG5pbXBvcnQgdGhlbWVzIGZyb20gJy4vdGhlbWVzJztcbmltcG9ydCB7IGdlbmVyYXRlVGVhbSwgZ2V0QWxsb3dlZENvb3JkaW5hdGVzIH0gZnJvbSAnLi9nZW5lcmF0b3JzJztcbmltcG9ydCBUZWFtIGZyb20gJy4vVGVhbSc7XG5pbXBvcnQgR2FtZVN0YXRlIGZyb20gJy4vR2FtZVN0YXRlJztcbmltcG9ydCBHYW1lUGxheSBmcm9tICcuL0dhbWVQbGF5JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcihnYW1lUGxheSwgc3RhdGVTZXJ2aWNlKSB7XG4gICAgdGhpcy5nYW1lUGxheSA9IGdhbWVQbGF5O1xuICAgIHRoaXMuc3RhdGVTZXJ2aWNlID0gc3RhdGVTZXJ2aWNlO1xuICAgIHRoaXMucGxheWVyVGVhbSA9IGdlbmVyYXRlVGVhbShuZXcgVGVhbSgpLnBsYXllclRlYW0sIDEsIDMpO1xuICAgIHRoaXMub3Bwb25lbnRUZWFtID0gZ2VuZXJhdGVUZWFtKG5ldyBUZWFtKCkub3Bwb25lbnRUZWFtLCAxLCAzKTtcbiAgICB0aGlzLmdhbWVTdGF0ZSA9IG5ldyBHYW1lU3RhdGUodGhpcy5wbGF5ZXJUZWFtLCB0aGlzLm9wcG9uZW50VGVhbSk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIC8vIFRPRE86IGFkZCBldmVudCBsaXN0ZW5lcnMgdG8gZ2FtZVBsYXkgZXZlbnRzXG4gICAgLy8gVE9ETzogbG9hZCBzYXZlZCBzdGF0ZWQgZnJvbSBzdGF0ZVNlcnZpY2VcbiAgICB0aGlzLmdhbWVQbGF5LmRyYXdVaSh0aGVtZXNbMV0pO1xuICAgIHRoaXMuZ2FtZVBsYXkucmVkcmF3UG9zaXRpb25zKFsuLi50aGlzLnBsYXllclRlYW0sIC4uLnRoaXMub3Bwb25lbnRUZWFtXSk7XG4gICAgdGhpcy5lbnRlck9uQ2VsbCgpO1xuICAgIHRoaXMubGVhdmVPbkNlbGwoKTtcbiAgICB0aGlzLmNsaWNrT25DZWxsKCk7XG4gIH1cblxuICBvbkNlbGxDbGljayhpbmRleCkge1xuICAgIC8vIFRPRE86IHJlYWN0IHRvIGNsaWNrXG4gICAgLy8gQ2xlYXIgJ3NlbGVjdGVkLXllbGxvdycgd2hlbiBjbGljayBvbiBteXNlbGZcbiAgICBpZiAodGhpcy5nYW1lU3RhdGUuc2VsZWN0ZWRDaGFyYWN0ZXIgJiYgdGhpcy5nYW1lU3RhdGUuc2VsZWN0ZWRDaGFyYWN0ZXIucG9zaXRpb24gPT09IGluZGV4KSB7XG4gICAgICB0aGlzLmdhbWVQbGF5LmRlc2VsZWN0Q2VsbChpbmRleCk7XG4gICAgICB0aGlzLmdhbWVTdGF0ZS5zZWxlY3RlZENoYXJhY3RlciA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENsZWFyICdzZWxlY3RlZC15ZWxsb3cnIHdoZW4gY2xpY2sgb24gYW5vdGhlciBmaWVsZCB3aXRoIENoYXJhY3RlciBvZiBQbGF5ZXJcbiAgICAgIGNvbnN0IGlzQ2hhcmFjdGVyID0gdGhpcy5oYXNDaGFyYWN0ZXIoaW5kZXgpO1xuICAgICAgY29uc3QgcGVyc29uID0gdGhpcy5nZXRDaGFyYWN0ZXIoaW5kZXgpO1xuICAgICAgaWYgKGlzQ2hhcmFjdGVyKSB7XG4gICAgICAgIGlmIChwZXJzb24uY2hhcmFjdGVyLmlzR29vZENoYXJhY3Rlcikge1xuICAgICAgICAgIHRoaXMuZ2FtZVN0YXRlLnNlbGVjdGVkQ2hhcmFjdGVyID0gcGVyc29uO1xuICAgICAgICAgIHRoaXMuZ2FtZVBsYXkuY2VsbHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKC4uLkFycmF5LmZyb20oZWxlbWVudC5jbGFzc0xpc3QpXG4gICAgICAgICAgICAgIC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uc3RhcnRzV2l0aCgnc2VsZWN0ZWQnKSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuZ2FtZVBsYXkuc2VsZWN0Q2VsbChpbmRleCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgR2FtZVBsYXkuc2hvd01lc3NhZ2UoJ9Ct0YLQviDQuNCz0YDQvtC6INC40Lcg0YfRg9C20L7QuSDQutC+0LzQsNC90LTRiyAhISEnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgR2FtZVBsYXkuc2hvd01lc3NhZ2UoJ9Ct0YLQviDQv9GD0YHRgtCw0Y8g0LrQu9C10YLQutCwICEhIScpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uQ2VsbEVudGVyKGluZGV4KSB7XG4gICAgLy8gVE9ETzogcmVhY3QgdG8gbW91c2UgZW50ZXJcbiAgICBjb25zdCBpc0NoYXJhY3RlciA9IHRoaXMuaGFzQ2hhcmFjdGVyKGluZGV4KTtcbiAgICBjb25zdCBwZXJzb24gPSB0aGlzLmdldENoYXJhY3RlcihpbmRleCk7XG4gICAgaWYgKGlzQ2hhcmFjdGVyKSB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gYFxcdXsxRjM5Nn0ke3BlcnNvbi5jaGFyYWN0ZXIubGV2ZWx9IFxcdXsxRjVFMX0ke3BlcnNvbi5jaGFyYWN0ZXIuYXR0YWNrfSBcXHV7MUY2RTF9JHtwZXJzb24uY2hhcmFjdGVyLmRlZmVuY2V9IFxcdXsxRjQ5M30ke3BlcnNvbi5jaGFyYWN0ZXIuaGVhbHRofWA7XG4gICAgICB0aGlzLmdhbWVQbGF5LnNob3dDZWxsVG9vbHRpcChtZXNzYWdlLCBpbmRleCk7XG4gICAgfVxuICB9XG5cbiAgb25DZWxsTGVhdmUoaW5kZXgpIHtcbiAgICAvLyBUT0RPOiByZWFjdCB0byBtb3VzZSBsZWF2ZVxuICAgIHRoaXMuZ2FtZVBsYXkuaGlkZUNlbGxUb29sdGlwKGluZGV4KTtcbiAgfVxuXG4gIGhhc0NoYXJhY3RlcihpbmRleCkge1xuICAgIGNvbnN0IGFsbENoYXJhY3RlcnMgPSBbLi4udGhpcy5wbGF5ZXJUZWFtLCAuLi50aGlzLm9wcG9uZW50VGVhbV07XG4gICAgcmV0dXJuIGFsbENoYXJhY3RlcnMuc29tZSgocGVyc29uKSA9PiBwZXJzb24ucG9zaXRpb24gPT09IGluZGV4KTtcbiAgfVxuXG4gIGdldENoYXJhY3RlcihpbmRleCkge1xuICAgIGxldCByZXN1bHQgPSB0aGlzLnBsYXllclRlYW0uZmluZCgocGVyc29uKSA9PiBwZXJzb24ucG9zaXRpb24gPT09IGluZGV4KTtcbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgcmVzdWx0ID0gdGhpcy5vcHBvbmVudFRlYW0uZmluZCgocGVyc29uKSA9PiBwZXJzb24ucG9zaXRpb24gPT09IGluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGVudGVyT25DZWxsKCkge1xuICAgIHRoaXMuZ2FtZVBsYXkuYWRkQ2VsbEVudGVyTGlzdGVuZXIodGhpcy5vbkNlbGxFbnRlci5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIGxlYXZlT25DZWxsKCkge1xuICAgIHRoaXMuZ2FtZVBsYXkuYWRkQ2VsbExlYXZlTGlzdGVuZXIodGhpcy5vbkNlbGxMZWF2ZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIGNsaWNrT25DZWxsKCkge1xuICAgIHRoaXMuZ2FtZVBsYXkuYWRkQ2VsbENsaWNrTGlzdGVuZXIodGhpcy5vbkNlbGxDbGljay5iaW5kKHRoaXMpKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImNhbGNUaWxlVHlwZSIsImluZGV4IiwiYm9hcmRTaXplIiwibm9ybUluZGV4IiwicmVzdWx0IiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwic2xpY2UiLCJHYW1lUGxheSIsImNvbnN0cnVjdG9yIiwidGhpcyIsImNvbnRhaW5lciIsImJvYXJkRWwiLCJjZWxscyIsImNlbGxDbGlja0xpc3RlbmVycyIsImNlbGxFbnRlckxpc3RlbmVycyIsImNlbGxMZWF2ZUxpc3RlbmVycyIsIm5ld0dhbWVMaXN0ZW5lcnMiLCJzYXZlR2FtZUxpc3RlbmVycyIsImxvYWRHYW1lTGlzdGVuZXJzIiwiYmluZFRvRE9NIiwiSFRNTEVsZW1lbnQiLCJFcnJvciIsImRyYXdVaSIsInRoZW1lIiwiY2hlY2tCaW5kaW5nIiwiaW5uZXJIVE1MIiwibmV3R2FtZUVsIiwicXVlcnlTZWxlY3RvciIsInNhdmVHYW1lRWwiLCJsb2FkR2FtZUVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwib25OZXdHYW1lQ2xpY2siLCJvblNhdmVHYW1lQ2xpY2siLCJvbkxvYWRHYW1lQ2xpY2siLCJjbGFzc0xpc3QiLCJhZGQiLCJpIiwiY2VsbEVsIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwib25DZWxsRW50ZXIiLCJvbkNlbGxMZWF2ZSIsIm9uQ2VsbENsaWNrIiwiYXBwZW5kQ2hpbGQiLCJBcnJheSIsImZyb20iLCJjaGlsZHJlbiIsInJlZHJhd1Bvc2l0aW9ucyIsInBvc2l0aW9ucyIsImNlbGwiLCJwb3NpdGlvbiIsImNoYXJFbCIsImNoYXJhY3RlciIsInR5cGUiLCJoZWFsdGhFbCIsImhlYWx0aEluZGljYXRvckVsIiwiaGVhbHRoIiwic3R5bGUiLCJ3aWR0aCIsImFkZENlbGxFbnRlckxpc3RlbmVyIiwiY2FsbGJhY2siLCJwdXNoIiwiYWRkQ2VsbExlYXZlTGlzdGVuZXIiLCJhZGRDZWxsQ2xpY2tMaXN0ZW5lciIsImFkZE5ld0dhbWVMaXN0ZW5lciIsImFkZFNhdmVHYW1lTGlzdGVuZXIiLCJhZGRMb2FkR2FtZUxpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJpbmRleE9mIiwiY3VycmVudFRhcmdldCIsImZvckVhY2giLCJvIiwiY2FsbCIsInNob3dFcnJvciIsIm1lc3NhZ2UiLCJhbGVydCIsInNob3dNZXNzYWdlIiwic2VsZWN0Q2VsbCIsImNvbG9yIiwiZGVzZWxlY3RDZWxsIiwicmVtb3ZlIiwiZmlsdGVyIiwic3RhcnRzV2l0aCIsInNob3dDZWxsVG9vbHRpcCIsInRpdGxlIiwiaGlkZUNlbGxUb29sdGlwIiwic2hvd0RhbWFnZSIsImRhbWFnZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiZGFtYWdlRWwiLCJ0ZXh0Q29udGVudCIsInJlbW92ZUNoaWxkIiwic2V0Q3Vyc29yIiwiY3Vyc29yIiwiQ2hhcmFjdGVyIiwibGV2ZWwiLCJuYW1lIiwiYXR0YWNrIiwiZGVmZW5jZSIsIlBvc2l0aW9uZWRDaGFyYWN0ZXIiLCJnZXRBbGxvd2VkQ29vcmRpbmF0ZXMiLCJ0eXBlVGVhbSIsImFsbENvb3JkcyIsImtleXMiLCJhbGxvd2VkQ29vcmRzIiwicG9zIiwiY2hhcmFjdGVyR2VuZXJhdG9yIiwiYWxsb3dlZFR5cGVzIiwibWF4TGV2ZWwiLCJyVHlwZSIsIk1hdGgiLCJmbG9vciIsImxlbmd0aCIsInJhbmRvbSIsInJMZXZlbCIsImdlbmVyYXRlVGVhbSIsImNoYXJhY3RlckNvdW50IiwibmV3VGVhbSIsInBsYXllckNvb3JkcyIsIm9wcG9uZW50Q29vcmRzIiwibmV3Q2hhcmFjdGVyIiwibmV4dCIsInZhbHVlIiwiaXNHb29kQ2hhcmFjdGVyIiwic3BsaWNlIiwiQm93bWFuIiwic3VwZXIiLCJEYWVtb24iLCJNYWdpY2lhbiIsIlN3b3Jkc21hbiIsIlVuZGVhZCIsIlZhbXBpcmUiLCJUZWFtIiwicGxheWVyVGVhbSIsIm9wcG9uZW50VGVhbSIsIkdhbWVTdGF0ZSIsIm9iamVjdCIsImdhbWVQbGF5Iiwic3RhdGVTZXJ2aWNlIiwic3RvcmFnZSIsInNhdmUiLCJzdGF0ZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwibG9hZCIsInBhcnNlIiwiZ2V0SXRlbSIsImUiLCJsb2NhbFN0b3JhZ2UiLCJnYW1lQ3RybCIsImdhbWVTdGF0ZSIsImluaXQiLCJ0aGVtZXMiLCJlbnRlck9uQ2VsbCIsImxlYXZlT25DZWxsIiwiY2xpY2tPbkNlbGwiLCJzZWxlY3RlZENoYXJhY3RlciIsImlzQ2hhcmFjdGVyIiwiaGFzQ2hhcmFjdGVyIiwicGVyc29uIiwiZ2V0Q2hhcmFjdGVyIiwiZWxlbWVudCIsIml0ZW0iLCJzb21lIiwiZmluZCIsImJpbmQiXSwic291cmNlUm9vdCI6IiJ9